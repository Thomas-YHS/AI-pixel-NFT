# ğŸ—ï¸ AI Moment NFT - æŠ€æœ¯æ¶æ„

## ğŸ“‹ ç³»ç»Ÿæ¦‚è§ˆ

AI Moment NFTæ˜¯ä¸€ä¸ªåŸºäºWeb3æŠ€æœ¯çš„å»ä¸­å¿ƒåŒ–åº”ç”¨ï¼Œé›†æˆäº†å®æ—¶å¤©æ°”æ•°æ®ã€AIå›¾åƒç”Ÿæˆå’ŒåŒºå—é“¾NFTé“¸é€ åŠŸèƒ½ã€‚

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   å‰ç«¯ç•Œé¢      â”‚    â”‚   æ™ºèƒ½åˆçº¦      â”‚    â”‚   å¤–éƒ¨æœåŠ¡      â”‚
â”‚   (Next.js)     â”‚â—„â”€â”€â–ºâ”‚   (Solidity)    â”‚â—„â”€â”€â–ºâ”‚   (APIs)        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚                       â”‚                       â”‚
         â–¼                       â–¼                       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   é’±åŒ…è¿æ¥      â”‚    â”‚   åŒºå—é“¾ç½‘ç»œ     â”‚    â”‚   IPFSå­˜å‚¨      â”‚
â”‚  (RainbowKit)   â”‚    â”‚   (Sepolia)     â”‚    â”‚   (Pinata)      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ğŸ¯ æ ¸å¿ƒç»„ä»¶

### 1. å‰ç«¯åº”ç”¨ (Frontend)

#### æŠ€æœ¯æ ˆ
- **æ¡†æ¶**: Next.js 14 (App Router)
- **æ ·å¼**: Tailwind CSS
- **çŠ¶æ€ç®¡ç†**: React Hooks + Zustand
- **ç±»å‹å®‰å…¨**: TypeScript

#### ä¸»è¦é¡µé¢
```
app/
â”œâ”€â”€ page.tsx              # é¦–é¡µ - é¡¹ç›®ä»‹ç»
â”œâ”€â”€ create/
â”‚   â””â”€â”€ page.tsx         # åˆ›å»ºNFTé¡µé¢
â”œâ”€â”€ me/
â”‚   â””â”€â”€ page.tsx         # æˆ‘çš„æ”¶è—é¡µé¢
â”œâ”€â”€ debug/
â”‚   â””â”€â”€ page.tsx         # åˆçº¦è°ƒè¯•é¡µé¢
â””â”€â”€ api/                 # APIè·¯ç”±
    â”œâ”€â”€ generate/        # AIå›¾åƒç”Ÿæˆ
    â”œâ”€â”€ validate/        # é“¸é€ èµ„æ ¼æ ¡éªŒ
    â””â”€â”€ pinata/          # IPFSä¸Šä¼ 
```

#### å…³é”®ç»„ä»¶
- `Address`: ä»¥å¤ªåŠåœ°å€æ˜¾ç¤ºç»„ä»¶
- `Balance`: ä½™é¢æ˜¾ç¤ºç»„ä»¶
- `NFTCard`: NFTå¡ç‰‡ç»„ä»¶
- `NFTDetailModal`: NFTè¯¦æƒ…æ¨¡æ€æ¡†

### 2. æ™ºèƒ½åˆçº¦ (Smart Contracts)

#### åˆçº¦æ¶æ„
```
contracts/
â””â”€â”€ WeatherNFT.sol       # ä¸»åˆçº¦ - ERC721 NFT
```

#### æ ¸å¿ƒæ•°æ®ç»“æ„
```solidity
struct WeatherData {
    string city;           // åŸå¸‚åç§°
    string date;           // é“¸é€ æ—¥æœŸ
    string weather;        // å¤©æ°”çŠ¶å†µ
    int256 temperature;    // æ¸©åº¦
    string timeOfDay;      // æ—¶é—´æ®µ
    uint256 timestamp;     // é“¸é€ æ—¶é—´æˆ³
    address minter;        // é“¸é€ è€…åœ°å€
}
```

#### ä¸»è¦åŠŸèƒ½
- `mintWithURI()`: é“¸é€ NFT
- `getWeatherData()`: è·å–å¤©æ°”æ•°æ®
- `hasAlreadyMinted()`: é˜²é‡å¤é“¸é€ æ£€æŸ¥
- `getOwnedTokens()`: è·å–ç”¨æˆ·NFTåˆ—è¡¨

### 3. åç«¯æœåŠ¡ (Backend Services)

#### APIè·¯ç”±ç»“æ„
```
api/
â”œâ”€â”€ generate/             # AIå›¾åƒç”Ÿæˆ
â”‚   â””â”€â”€ route.ts
â”œâ”€â”€ validate/             # é“¸é€ èµ„æ ¼æ ¡éªŒ
â”‚   â””â”€â”€ route.ts
â”œâ”€â”€ pinata/               # IPFSä¸Šä¼ æœåŠ¡
â”‚   â”œâ”€â”€ upload/
â”‚   â”œâ”€â”€ metadata/
â”‚   â””â”€â”€ signed-url/
â””â”€â”€ img/                  # å›¾åƒå¤„ç†
    â””â”€â”€ route.ts
```

#### å¤–éƒ¨APIé›†æˆ
- **OpenAI/Poe API**: AIå›¾åƒç”Ÿæˆ
- **Open-Meteo**: å…è´¹å¤©æ°”æ•°æ®
- **Nominatim**: åœ°ç†ç¼–ç æœåŠ¡
- **Pinata**: IPFSå­˜å‚¨æœåŠ¡

## ğŸ”„ æ•°æ®æµç¨‹

### NFTåˆ›å»ºæµç¨‹
```
1. ç”¨æˆ·è¾“å…¥åŸå¸‚åç§°
   â†“
2. è·å–å®æ—¶å¤©æ°”æ•°æ®
   â†“
3. ç”ŸæˆAIæç¤ºè¯
   â†“
4. è°ƒç”¨AIæœåŠ¡ç”Ÿæˆå›¾åƒ
   â†“
5. ä¸Šä¼ å›¾åƒåˆ°IPFS
   â†“
6. åˆ›å»ºNFTå…ƒæ•°æ®
   â†“
7. ä¸Šä¼ å…ƒæ•°æ®åˆ°IPFS
   â†“
8. è°ƒç”¨æ™ºèƒ½åˆçº¦é“¸é€ NFT
   â†“
9. å®Œæˆé“¸é€ ï¼Œè·å¾—Token ID
```

### æ•°æ®éªŒè¯æµç¨‹
```
1. ç”¨æˆ·é€‰æ‹©åŸå¸‚
   â†“
2. å‰ç«¯è°ƒç”¨éªŒè¯API
   â†“
3. APIè°ƒç”¨æ™ºèƒ½åˆçº¦
   â†“
4. æ£€æŸ¥é“¸é€ èµ„æ ¼
   â†“
5. è¿”å›éªŒè¯ç»“æœ
   â†“
6. å‰ç«¯æ˜¾ç¤ºé“¸é€ çŠ¶æ€
```

## ğŸ¨ AIå›¾åƒç”Ÿæˆ

### ç”Ÿæˆæµç¨‹
```
1. å¤©æ°”æ•°æ® â†’ AIæç¤ºè¯
   â†“
2. è°ƒç”¨Poe API
   â†“
3. ä¸‹è½½ç”Ÿæˆå›¾åƒ
   â†“
4. åˆ†æé’±åŒ…ç‰¹å¾
   â†“
5. ç”Ÿæˆä¸ªæ€§åŒ–è¾¹æ¡†
   â†“
6. åˆå¹¶å›¾åƒå’Œè¾¹æ¡†
   â†“
7. è¿”å›æœ€ç»ˆå›¾åƒ
```

### æç¤ºè¯ç”Ÿæˆ
```typescript
function generateWeatherPrompt(weather: WeatherData): string {
    return `A beautiful artistic poster of city ${weather.city}, 
            ${weather.timeOfDay} time, ${weather.weather} weather, 
            ${weather.temperature}Â°C, minimalist design, 
            modern typography, vibrant colors, travel poster style`;
}
```

## ğŸŒ ç½‘ç»œé…ç½®

### åŒºå—é“¾ç½‘ç»œ
```typescript
// scaffold.config.ts
targetNetworks: [chains.sepolia],
rpcOverrides: {
    [chains.sepolia.id]: "https://sepolia.infura.io/v3/..."
}
```

### ç¯å¢ƒå˜é‡
```bash
# å¿…éœ€çš„ç¯å¢ƒå˜é‡
NEXT_PUBLIC_ALCHEMY_API_KEY=your_key
NEXT_PUBLIC_WALLET_CONNECT_PROJECT_ID=your_id
POE_API_KEY=your_poe_key

# å¯é€‰çš„ç¯å¢ƒå˜é‡
NEXT_PUBLIC_RPC_URL=custom_rpc_url
```

## ğŸ”’ å®‰å…¨æœºåˆ¶

### æ™ºèƒ½åˆçº¦å®‰å…¨
- **é˜²é‡å¤é“¸é€ **: ä½¿ç”¨åœ°å€+åŸå¸‚+æ—¥æœŸçš„å“ˆå¸Œæ˜ å°„
- **æƒé™æ§åˆ¶**: åŸºäºOpenZeppelinçš„Ownableæ¨¡å¼
- **æ•°æ®éªŒè¯**: è¾“å…¥å‚æ•°éªŒè¯å’Œè¾¹ç•Œæ£€æŸ¥
- **äº‹ä»¶è®°å½•**: å®Œæ•´çš„é“¸é€ äº‹ä»¶è®°å½•

### å‰ç«¯å®‰å…¨
- **é’±åŒ…éªŒè¯**: è¿æ¥çŠ¶æ€å’Œç½‘ç»œæ£€æŸ¥
- **è¾“å…¥éªŒè¯**: åŸå¸‚åç§°å’Œå‚æ•°éªŒè¯
- **APIé™åˆ¶**: è¯·æ±‚é¢‘ç‡å’Œå‚æ•°é™åˆ¶
- **é”™è¯¯å¤„ç†**: ä¼˜é›…çš„é”™è¯¯å¤„ç†å’Œç”¨æˆ·æç¤º

## ğŸ“Š æ€§èƒ½ä¼˜åŒ–

### å‰ç«¯ä¼˜åŒ–
- **ä»£ç åˆ†å‰²**: Next.jsè‡ªåŠ¨ä»£ç åˆ†å‰²
- **å›¾ç‰‡ä¼˜åŒ–**: Next.js Imageç»„ä»¶ä¼˜åŒ–
- **ç¼“å­˜ç­–ç•¥**: æ™ºèƒ½åˆçº¦æ•°æ®ç¼“å­˜
- **æ‡’åŠ è½½**: ç»„ä»¶å’Œå›¾ç‰‡æ‡’åŠ è½½

### åˆçº¦ä¼˜åŒ–
- **Gasä¼˜åŒ–**: é«˜æ•ˆçš„å­˜å‚¨ç»“æ„
- **æ‰¹é‡æŸ¥è¯¢**: æ”¯æŒæ‰¹é‡è·å–ç”¨æˆ·NFT
- **äº‹ä»¶ç´¢å¼•**: ä¼˜åŒ–äº‹ä»¶æŸ¥è¯¢æ€§èƒ½

## ğŸ§ª æµ‹è¯•ç­–ç•¥

### åˆçº¦æµ‹è¯•
```bash
# è¿è¡ŒFoundryæµ‹è¯•
yarn foundry:test

# æµ‹è¯•æ–‡ä»¶ä½ç½®
test/WeatherNFT.t.sol
```

### å‰ç«¯æµ‹è¯•
- **ç»„ä»¶æµ‹è¯•**: Reactç»„ä»¶å•å…ƒæµ‹è¯•
- **é›†æˆæµ‹è¯•**: é¡µé¢åŠŸèƒ½é›†æˆæµ‹è¯•
- **E2Eæµ‹è¯•**: ç«¯åˆ°ç«¯ç”¨æˆ·æµç¨‹æµ‹è¯•

## ğŸš€ éƒ¨ç½²æµç¨‹

### æœ¬åœ°å¼€å‘
```bash
# 1. å¯åŠ¨æœ¬åœ°åŒºå—é“¾
yarn chain

# 2. éƒ¨ç½²åˆçº¦
yarn deploy

# 3. å¯åŠ¨å‰ç«¯
yarn start
```

### æµ‹è¯•ç½‘éƒ¨ç½²
```bash
# 1. é…ç½®ç½‘ç»œ
# ä¿®æ”¹scaffold.config.ts

# 2. éƒ¨ç½²åˆ°æµ‹è¯•ç½‘
yarn deploy --network sepolia

# 3. éƒ¨ç½²å‰ç«¯
yarn vercel
```

## ğŸ“ˆ ç›‘æ§å’Œåˆ†æ

### é“¾ä¸Šç›‘æ§
- **åˆçº¦äº‹ä»¶**: é“¸é€ ã€è½¬ç§»ç­‰äº‹ä»¶ç›‘æ§
- **Gasä½¿ç”¨**: äº¤æ˜“Gasæ¶ˆè€—åˆ†æ
- **ç”¨æˆ·è¡Œä¸º**: é“¸é€ é¢‘ç‡å’Œæ¨¡å¼åˆ†æ

### å‰ç«¯ç›‘æ§
- **æ€§èƒ½æŒ‡æ ‡**: é¡µé¢åŠ è½½æ—¶é—´å’Œäº¤äº’å“åº”
- **é”™è¯¯è¿½è¸ª**: å‰ç«¯é”™è¯¯å’Œå¼‚å¸¸ç›‘æ§
- **ç”¨æˆ·è¡Œä¸º**: é¡µé¢è®¿é—®å’ŒåŠŸèƒ½ä½¿ç”¨ç»Ÿè®¡

## ğŸ”® æœªæ¥æ‰©å±•

### æŠ€æœ¯å‡çº§
- **Layer2æ”¯æŒ**: é›†æˆPolygonã€Arbitrumç­‰
- **è·¨é“¾åŠŸèƒ½**: å¤šé“¾NFTæ”¯æŒ
- **AIæ¨¡å‹**: æ›´å…ˆè¿›çš„å›¾åƒç”Ÿæˆæ¨¡å‹

### åŠŸèƒ½æ‰©å±•
- **ç¤¾äº¤åŠŸèƒ½**: NFTåˆ†äº«å’Œç¤¾åŒºäº’åŠ¨
- **äº¤æ˜“å¸‚åœº**: NFTäº¤æ˜“å’Œæ‹å–åŠŸèƒ½
- **æ¸¸æˆåŒ–**: æˆå°±ç³»ç»Ÿå’Œå¥–åŠ±æœºåˆ¶

---

**æŠ€æœ¯æ¶æ„æŒç»­æ¼”è¿›ï¼Œæ¬¢è¿è´¡çŒ®ä»£ç å’Œæƒ³æ³•ï¼** ğŸš€ğŸ’¡
